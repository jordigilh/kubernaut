# Duplicate Test Workflow Schema (BR-WORKFLOW-004)
# Used by: DataStorage E2E â€” 18_workflow_duplicate_api_test.go (DS-BUG-001)
# This workflow is created twice to test 409 Conflict duplicate detection
metadata:
  workflowId: duplicate-test-v1
  version: "1.0.0"
  description:
    what: "Test workflow for duplicate creation detection"
    whenToUse: "For E2E testing of RFC 9110 Section 15.5.10 duplicate resource handling"
    whenNotToUse: "Not intended for production use"
    preconditions: "DataStorage service running"

actionType: RestartPod

labels:
  signalType: CrashLoopBackOff
  severity: [high]
  environment: [test]
  component: deployment
  priority: P2

execution:
  engine: tekton
  bundle: quay.io/kubernaut-cicd/test-workflows/placeholder-execution:v1.0.0@sha256:18a3bae2340943dad1e350d58c69dc2f35b919c49d17eaec3b9c77990841ef53

parameters:
  - name: NAMESPACE
    type: string
    required: true
    description: "Target namespace"
  - name: POD_NAME
    type: string
    required: true
    description: "Name of the pod to restart"
