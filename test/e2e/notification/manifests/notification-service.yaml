---
# Notification Controller Metrics Service
# Exposes metrics endpoint via NodePort for E2E test access
apiVersion: v1
kind: Service
metadata:
  name: notification-metrics
  labels:
    app: notification-controller
spec:
  type: NodePort
  selector:
    app: notification-controller
    control-plane: controller-manager
  ports:
    - name: metrics
      protocol: TCP
      port: 9090
      targetPort: 9090
      nodePort: 30090  # Exposed to host via Kind extraPortMappings (localhost:9090)

