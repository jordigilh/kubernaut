apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: kubernaut-system

generatorOptions:
  disableNameSuffixHash: true

secretGenerator:
  # PostgreSQL credentials (referenced by postgresql Deployment)
  - name: postgresql-secret
    type: Opaque
    envs:
      - postgresql.env

  # DataStorage credentials (db + redis, mounted as YAML files)
  - name: datastorage-secret
    type: Opaque
    files:
      - db-secrets.yaml
      - redis-secrets.yaml
