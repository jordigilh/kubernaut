Building must-gather image...
podman build --platform linux/amd64,linux/arm64 \
		-t quay.io/kubernaut/must-gather:v1.0.0 \
		-t quay.io/kubernaut/must-gather:latest \
		.
[linux/amd64] STEP 1/15: FROM registry.access.redhat.com/ubi9/ubi:latest
[linux/amd64] STEP 2/15: LABEL maintainer="Kubernaut Platform Team"       description="Kubernaut must-gather diagnostic collection tool"       io.k8s.description="Collects diagnostic data from Kubernaut platform for support and troubleshooting"       io.k8s.display-name="Kubernaut Must-Gather"       io.openshift.tags="kubernaut,diagnostics,must-gather"       version="1.0.0"
--> Using cache 222d88a10285ecc2dd1dee5df6894163d84fa82ca88ad06ccb5fe44317af049a
--> 222d88a10285
[linux/amd64] STEP 3/15: ARG TARGETARCH
--> Using cache c7653e3a05736717da6a035ece58e16fc2f388b9fcfbe8e49695b8b4b5e78981
--> c7653e3a0573
[linux/amd64] STEP 4/15: RUN curl -LO "https://dl.k8s.io/release/v1.31.0/bin/linux/${TARGETARCH}/kubectl" &&     chmod +x kubectl &&     mv kubectl /usr/local/bin/kubectl &&     kubectl version --client
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   138  100   138    0     0    407      0 --:--:-- --:--:-- --:--:--   416
  0 53.7M    0  300k    0     0   535k      0  0:01:42 --:--:--  0:01:42  535k 72 53.7M   72 39.2M    0     0  25.1M      0  0:00:02  0:00:01  0:00:01 38.9M100 53.7M  100 53.7M    0     0  27.5M      0  0:00:01  0:00:01 --:--:-- 38.3M
runtime: lfstack.push invalid packing: node=0xffff89613800 cnt=0x1 packed=0xffff896138000001 -> node=0xffffffff89613800
fatal error: lfstack.push

runtime stack:
runtime.throw({0x2259916?, 0x1abb4463c183e?})
	runtime/panic.go:1023 +0x5c fp=0xffff815ffc38 sp=0xffff815ffc08 pc=0x43dcbc
runtime.(*lfstack).push(0x0?, 0x39d6180?)
	runtime/lfstack.go:29 +0x125 fp=0xffff815ffc78 sp=0xffff815ffc38 pc=0x40fd25
runtime.(*spanSetBlockAlloc).free(...)
	runtime/mspanset.go:322
runtime.(*spanSet).reset(0x39f1000)
	runtime/mspanset.go:264 +0x79 fp=0xffff815ffca8 sp=0xffff815ffc78 pc=0x437d59
runtime.finishsweep_m()
	runtime/mgcsweep.go:258 +0x8d fp=0xffff815ffce8 sp=0xffff815ffca8 pc=0x42a34d
runtime.gcStart.func2()
	runtime/mgc.go:685 +0xf fp=0xffff815ffcf8 sp=0xffff815ffce8 pc=0x46c6cf
runtime.systemstack(0x47741f)
	runtime/asm_amd64.s:509 +0x4a fp=0xffff815ffd08 sp=0xffff815ffcf8 pc=0x472bea

goroutine 1 gp=0xc0000061c0 m=0 mp=0x39d71c0 [running, locked to thread]:
runtime.systemstack_switch()
	runtime/asm_amd64.s:474 +0x8 fp=0xc00059f7a0 sp=0xc00059f790 pc=0x472b88
runtime.gcStart({0xffff8a4973c8?, 0xc00059f858?, 0x41f156?})
	runtime/mgc.go:684 +0x345 fp=0xc00059f860 sp=0xc00059f7a0 pc=0x41f4e5
runtime.mallocgc(0xf70, 0x204f8a0, 0x1)
	runtime/malloc.go:1308 +0x814 fp=0xc00059f8e8 sp=0xc00059f860 pc=0x411d34
runtime.newarray(0x8?, 0x2?)
	runtime/malloc.go:1412 +0x45 fp=0xc00059f910 sp=0xc00059f8e8 pc=0x411fc5
runtime.makeBucketArray(0xc0003dc280?, 0x6?, 0xc0003dc2b8?)
	runtime/map.go:364 +0x1ad fp=0xc00059f950 sp=0xc00059f910 pc=0x412d2d
runtime.hashGrow(0x41731a?, 0xc00059fbd0)
	runtime/map.go:1063 +0x6f fp=0xc00059f990 sp=0xc00059f950 pc=0x41474f
runtime.mapassign_faststr(0x1ee44a0, 0xc00059fbd0, {0xc000236940, 0x1a})
	runtime/map_faststr.go:276 +0xe5 fp=0xc00059fa00 sp=0xc00059f990 pc=0x417725
github.com/prometheus/client_golang/prometheus.(*Registry).Register(0xc0003795e0, {0x27288d8, 0xc000206f30})
	github.com/prometheus/client_golang@v1.19.1/prometheus/registry.go:324 +0x3ff fp=0xc00059fcf8 sp=0xc00059fa00 pc=0x8a4b9f
github.com/prometheus/client_golang/prometheus.(*Registry).MustRegister(0xc0003795e0, {0xc000489a60?, 0x39d71c0?, 0xc000489a60?})
	github.com/prometheus/client_golang@v1.19.1/prometheus/registry.go:404 +0x4e fp=0xc00059fd30 sp=0xc00059fcf8 pc=0x8a576e
k8s.io/component-base/metrics.(*kubeRegistry).RawMustRegister(0xc00021d340, {0xc000489a60, 0x1, 0xc0005f3e01?})
	k8s.io/component-base/metrics/registry.go:260 +0x2d fp=0xc00059fd70 sp=0xc00059fd30 pc=0x8eb3ed
k8s.io/component-base/metrics.KubeRegistry.RawMustRegister-fm({0xc000489a60?, 0x1?, 0xc0002c7728?})
	<autogenerated>:1 +0x36 fp=0xc00059fda0 sp=0xc00059fd70 pc=0x8f15b6
k8s.io/component-base/metrics/legacyregistry.init.0()
	k8s.io/component-base/metrics/legacyregistry/registry.go:55 +0x178 fp=0xc00059fe20 sp=0xc00059fda0 pc=0x8f1318
runtime.doInit1(0x38e4be0)
	runtime/proc.go:7176 +0xe8 fp=0xc00059ff50 sp=0xc00059fe20 pc=0x44f128
runtime.doInit(...)
	runtime/proc.go:7143
runtime.main()
	runtime/proc.go:253 +0x350 fp=0xc00059ffe0 sp=0xc00059ff50 pc=0x440830
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc00059ffe8 sp=0xc00059ffe0 pc=0x474a21

goroutine 17 gp=0xc00009a380 m=nil [force gc (idle)]:
runtime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc0000707a8 sp=0xc000070788 pc=0x440bce
runtime.goparkunlock(...)
	runtime/proc.go:408
runtime.forcegchelper()
	runtime/proc.go:326 +0xb3 fp=0xc0000707e0 sp=0xc0000707a8 pc=0x440a33
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc0000707e8 sp=0xc0000707e0 pc=0x474a21
created by runtime.init.6 in goroutine 1
	runtime/proc.go:314 +0x1a

goroutine 18 gp=0xc00009a540 m=nil [GC sweep wait]:
runtime.gopark(0x1?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000070f80 sp=0xc000070f60 pc=0x440bce
runtime.goparkunlock(...)
	runtime/proc.go:408
runtime.bgsweep(0xc0000a6000)
	runtime/mgcsweep.go:318 +0xdf fp=0xc000070fc8 sp=0xc000070f80 pc=0x42a4bf
runtime.gcenable.gowrap1()
	runtime/mgc.go:203 +0x25 fp=0xc000070fe0 sp=0xc000070fc8 pc=0x41edc5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc000070fe8 sp=0xc000070fe0 pc=0x474a21
created by runtime.gcenable in goroutine 1
	runtime/mgc.go:203 +0x66

goroutine 19 gp=0xc00009a700 m=nil [GC scavenge wait]:
runtime.gopark(0x10000?, 0x270df18?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000071778 sp=0xc000071758 pc=0x440bce
runtime.goparkunlock(...)
	runtime/proc.go:408
runtime.(*scavengerState).park(0x39d5780)
	runtime/mgcscavenge.go:425 +0x49 fp=0xc0000717a8 sp=0xc000071778 pc=0x427e69
runtime.bgscavenge(0xc0000a6000)
	runtime/mgcscavenge.go:658 +0x59 fp=0xc0000717c8 sp=0xc0000717a8 pc=0x428419
runtime.gcenable.gowrap2()
	runtime/mgc.go:204 +0x25 fp=0xc0000717e0 sp=0xc0000717c8 pc=0x41ed65
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc0000717e8 sp=0xc0000717e0 pc=0x474a21
created by runtime.gcenable in goroutine 1
	runtime/mgc.go:204 +0xa5

goroutine 33 gp=0xc000112380 m=nil [finalizer wait]:
runtime.gopark(0xc000074660?, 0x42733c?, 0x40?, 0x96?, 0x550011?)
	runtime/proc.go:402 +0xce fp=0xc000074620 sp=0xc000074600 pc=0x440bce
runtime.runfinq()
	runtime/mfinal.go:194 +0x107 fp=0xc0000747e0 sp=0xc000074620 pc=0x41de07
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc0000747e8 sp=0xc0000747e0 pc=0x474a21
created by runtime.createfing in goroutine 1
	runtime/mfinal.go:164 +0x3d

goroutine 34 gp=0xc000113340 m=nil [GC worker (idle)]:
runtime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000460750 sp=0xc000460730 pc=0x440bce
runtime.gcBgMarkWorker()
	runtime/mgc.go:1310 +0xe5 fp=0xc0004607e0 sp=0xc000460750 pc=0x420ea5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc0004607e8 sp=0xc0004607e0 pc=0x474a21
created by runtime.gcBgMarkStartWorkers in goroutine 1
	runtime/mgc.go:1234 +0x1c

goroutine 35 gp=0xc000113500 m=nil [GC worker (idle)]:
runtime.gopark(0x1abb43ee1914f?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000460f50 sp=0xc000460f30 pc=0x440bce
runtime.gcBgMarkWorker()
	runtime/mgc.go:1310 +0xe5 fp=0xc000460fe0 sp=0xc000460f50 pc=0x420ea5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc000460fe8 sp=0xc000460fe0 pc=0x474a21
created by runtime.gcBgMarkStartWorkers in goroutine 1
	runtime/mgc.go:1234 +0x1c

goroutine 20 gp=0xc0004c8000 m=nil [GC worker (idle)]:
runtime.gopark(0x1abb43edf4ac9?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000071f50 sp=0xc000071f30 pc=0x440bce
runtime.gcBgMarkWorker()
	runtime/mgc.go:1310 +0xe5 fp=0xc000071fe0 sp=0xc000071f50 pc=0x420ea5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc000071fe8 sp=0xc000071fe0 pc=0x474a21
created by runtime.gcBgMarkStartWorkers in goroutine 1
	runtime/mgc.go:1234 +0x1c

goroutine 36 gp=0xc0001136c0 m=nil [GC worker (idle)]:
runtime.gopark(0x1abb43eddc59f?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000461750 sp=0xc000461730 pc=0x440bce
runtime.gcBgMarkWorker()
	runtime/mgc.go:1310 +0xe5 fp=0xc0004617e0 sp=0xc000461750 pc=0x420ea5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc0004617e8 sp=0xc0004617e0 pc=0x474a21
created by runtime.gcBgMarkStartWorkers in goroutine 1
	runtime/mgc.go:1234 +0x1c

goroutine 21 gp=0xc0004c81c0 m=nil [GC worker (idle)]:
runtime.gopark(0x1abb43eddf28b?, 0x0?, 0x0?, 0x0?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000072750 sp=0xc000072730 pc=0x440bce
runtime.gcBgMarkWorker()
	runtime/mgc.go:1310 +0xe5 fp=0xc0000727e0 sp=0xc000072750 pc=0x420ea5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc0000727e8 sp=0xc0000727e0 pc=0x474a21
created by runtime.gcBgMarkStartWorkers in goroutine 1
	runtime/mgc.go:1234 +0x1c

goroutine 2 gp=0xc000226700 m=nil [GC worker (idle)]:
runtime.gopark(0x252ea60?, 0xc000361fe0?, 0x1a?, 0xa?, 0x0?)
	runtime/proc.go:402 +0xce fp=0xc000074f50 sp=0xc000074f30 pc=0x440bce
runtime.gcBgMarkWorker()
	runtime/mgc.go:1310 +0xe5 fp=0xc000074fe0 sp=0xc000074f50 pc=0x420ea5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc000074fe8 sp=0xc000074fe0 pc=0x474a21
created by runtime.gcBgMarkStartWorkers in goroutine 1
	runtime/mgc.go:1234 +0x1c

goroutine 50 gp=0xc0004c8700 m=nil [chan send]:
runtime.gopark(0xc00048af00?, 0xc0000aa000?, 0x10?, 0x1?, 0xc00045f708?)
	runtime/proc.go:402 +0xce fp=0xc00045f6b8 sp=0xc00045f698 pc=0x440bce
runtime.chansend(0xc00048aea0, 0xc00045f770, 0x1, 0x0?)
	runtime/chan.go:259 +0x38d fp=0xc00045f728 sp=0xc00045f6b8 pc=0x409a2d
runtime.chansend1(0x40a28b?, 0x409697?)
	runtime/chan.go:145 +0x17 fp=0xc00045f758 sp=0xc00045f728 pc=0x409697
github.com/prometheus/client_golang/prometheus.(*goCollector).Describe(0xc000206f30, 0xc00048aea0)
	github.com/prometheus/client_golang@v1.19.1/prometheus/go_collector_latest.go:294 +0x112 fp=0xc00045f7b8 sp=0xc00045f758 pc=0x8a0ef2
github.com/prometheus/client_golang/prometheus.(*Registry).Register.func1()
	github.com/prometheus/client_golang@v1.19.1/prometheus/registry.go:279 +0x25 fp=0xc00045f7e0 sp=0xc00045f7b8 pc=0x8a52c5
runtime.goexit({})
	runtime/asm_amd64.s:1695 +0x1 fp=0xc00045f7e8 sp=0xc00045f7e0 pc=0x474a21
created by github.com/prometheus/client_golang/prometheus.(*Registry).Register in goroutine 1
	github.com/prometheus/client_golang@v1.19.1/prometheus/registry.go:278 +0x175
[linux/arm64] STEP 1/15: FROM registry.access.redhat.com/ubi9/ubi:latest
Trying to pull registry.access.redhat.com/ubi9/ubi:latest...
Getting image source signatures
Checking if image destination supports signatures
Copying blob sha256:13b5cf693aef472067284cddd06a19e461731dfec6f8c23520b140d44bae0981
Copying config sha256:40b99dd8c67f75175e1aed90cd8e24f2cac7b692b5a359035e915a49ef5831cb
Writing manifest to image destination
Storing signatures
[linux/arm64] STEP 2/15: LABEL maintainer="Kubernaut Platform Team"       description="Kubernaut must-gather diagnostic collection tool"       io.k8s.description="Collects diagnostic data from Kubernaut platform for support and troubleshooting"       io.k8s.display-name="Kubernaut Must-Gather"       io.openshift.tags="kubernaut,diagnostics,must-gather"       version="1.0.0"
--> bf1412f55837
[linux/arm64] STEP 3/15: ARG TARGETARCH
--> da1ea402d462
[linux/arm64] STEP 4/15: RUN curl -LO "https://dl.k8s.io/release/v1.31.0/bin/linux/${TARGETARCH}/kubectl" &&     chmod +x kubectl &&     mv kubectl /usr/local/bin/kubectl &&     kubectl version --client
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   138  100   138    0     0   1232      0 --:--:-- --:--:-- --:--:--  1221
 48 52.4M   48 25.6M    0     0  25.5M      0  0:00:02  0:00:01  0:00:01 25.5M100 52.4M  100 52.4M    0     0  29.2M      0  0:00:01  0:00:01 --:--:-- 33.8M
Client Version: v1.31.0
Kustomize Version: v5.4.2
--> f3ec66e5b40f
[linux/arm64] STEP 5/15: ARG TARGETARCH
--> acc9e823e32d
[linux/arm64] STEP 6/15: RUN yum install -y jq ||     (if [ "${TARGETARCH}" = "arm64" ]; then JQ_ARCH="arm64"; else JQ_ARCH="amd64"; fi &&      curl -L "https://github.com/jqlang/jq/releases/download/jq-1.7.1/jq-linux-${JQ_ARCH}" -o /usr/local/bin/jq &&      chmod +x /usr/local/bin/jq) &&     yum clean all
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered with an entitlement server. You can use subscription-manager to register.

Red Hat Universal Base Image 9 (RPMs) - BaseOS  731 kB/s | 436 kB     00:00    
Red Hat Universal Base Image 9 (RPMs) - AppStre 6.9 MB/s | 2.2 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - CodeRea 795 kB/s | 175 kB     00:00    
Dependencies resolved.
================================================================================
 Package        Architecture Version            Repository                 Size
================================================================================
Installing:
 jq             aarch64      1.6-19.el9         ubi-9-baseos-rpms         181 k
Installing dependencies:
 oniguruma      aarch64      6.9.6-1.el9.5      ubi-9-appstream-rpms      217 k

Transaction Summary
================================================================================
Install  2 Packages

Total download size: 398 k
Installed size: 1.2 M
Downloading Packages:
(1/2): jq-1.6-19.el9.aarch64.rpm                1.2 MB/s | 181 kB     00:00    
(2/2): oniguruma-6.9.6-1.el9.5.aarch64.rpm      1.5 MB/s | 217 kB     00:00    
--------------------------------------------------------------------------------
Total                                           2.7 MB/s | 398 kB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : oniguruma-6.9.6-1.el9.5.aarch64                        1/2 
  Installing       : jq-1.6-19.el9.aarch64                                  2/2 
  Running scriptlet: jq-1.6-19.el9.aarch64                                  2/2 
  Verifying        : jq-1.6-19.el9.aarch64                                  1/2 
  Verifying        : oniguruma-6.9.6-1.el9.5.aarch64                        2/2 
Installed products updated.

Installed:
  jq-1.6-19.el9.aarch64             oniguruma-6.9.6-1.el9.5.aarch64            

Complete!
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered with an entitlement server. You can use subscription-manager to register.

25 files removed
--> e13b77839c47
[linux/arm64] STEP 7/15: RUN kubectl version --client &&     jq --version &&     tar --version &&     gzip --version
Client Version: v1.31.0
Kustomize Version: v5.4.2
jq-1.6
tar (GNU tar) 1.34
Copyright (C) 2021 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
gzip 1.12
Copyright (C) 2018 Free Software Foundation, Inc.
Copyright (C) 1993 Jean-loup Gailly.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <https://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.

Written by Jean-loup Gailly.
--> 631b9a16f531
[linux/arm64] STEP 8/15: COPY gather.sh /usr/bin/gather
--> 7ba46936b2b1
[linux/arm64] STEP 9/15: COPY collectors/ /usr/share/must-gather/collectors/
--> ac3ce37a4e90
[linux/arm64] STEP 10/15: COPY sanitizers/ /usr/share/must-gather/sanitizers/
--> 7a0ebd03855d
[linux/arm64] STEP 11/15: COPY utils/ /usr/share/must-gather/utils/
--> 6f9e621caf04
[linux/arm64] STEP 12/15: RUN chmod +x /usr/bin/gather &&     chmod +x /usr/share/must-gather/collectors/*.sh &&     chmod +x /usr/share/must-gather/sanitizers/*.sh &&     chmod +x /usr/share/must-gather/utils/*.sh
--> 4371d5fc65f6
[linux/arm64] STEP 13/15: RUN mkdir -p /must-gather
--> b4e928989e86
[linux/arm64] STEP 14/15: WORKDIR /must-gather
--> 34724e0e47c0
[linux/arm64] STEP 15/15: ENTRYPOINT ["/usr/bin/gather"]
[linux/arm64] COMMIT quay.io/kubernaut/must-gather:v1.0.0
--> 5ebed5d9a596
Successfully tagged quay.io/kubernaut/must-gather:latest
Successfully tagged quay.io/kubernaut/must-gather:v1.0.0
5ebed5d9a596cdee3107353d4c96434c2103d055ead72cd497879a3f90c19fa0
Error: [linux/amd64]: building at STEP "RUN curl -LO "https://dl.k8s.io/release/v1.31.0/bin/linux/${TARGETARCH}/kubectl" &&     chmod +x kubectl &&     mv kubectl /usr/local/bin/kubectl &&     kubectl version --client": while running runtime: exit status 2

make: *** [build] Error 2
