# Audit Test Workflow Schema (BR-WORKFLOW-004)
# Used by: DataStorage E2E â€” 06_workflow_discovery_audit_test.go (DD-WORKFLOW-014 v3.0)
metadata:
  workflowId: audit-test-v1
  version: "1.0.0"
  description:
    what: "Test workflow for workflow discovery audit event validation"
    whenToUse: "For E2E testing of audit trail emission during discovery steps"
    whenNotToUse: "Not intended for production use"
    preconditions: "DataStorage service running with audit tables available"

actionType: RestartPod

labels:
  signalName: CrashLoopBackOff
  severity: [critical]
  environment: [production, staging, test]
  component: pod
  priority: P0

execution:
  engine: tekton
  bundle: quay.io/kubernaut-cicd/test-workflows/placeholder-execution:v1.0.0@sha256:ff1d2bd5d41535f20fb70232ea07160b3985c5d53b4736f1e131a9a66ce0a179

parameters:
  - name: NAMESPACE
    type: string
    required: true
    description: "Target namespace containing the affected pod"
  - name: POD_NAME
    type: string
    required: true
    description: "Name of the pod to restart"
