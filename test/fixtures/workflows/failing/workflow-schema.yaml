# Intentional Failure Test Workflow Schema (BR-WORKFLOW-004)
# Used by: WorkflowExecution E2E
metadata:
  workflowId: test-intentional-failure
  version: "1.0.0"
  description:
    what: "Workflow that intentionally fails for testing error handling"
    whenToUse: "For E2E validation of failure detection and error propagation"
    whenNotToUse: "Not intended for production use"
    preconditions: "Tekton Pipelines installed in the cluster"

actionType: RestartPod

labels:
  signalName: test
  severity: [low]
  environment: [test]
  component: deployment
  priority: P3

execution:
  engine: tekton
  bundle: quay.io/kubernaut-cicd/test-workflows/placeholder-execution:v1.0.0@sha256:f313b9632f3a8d0ffd41150b12715a43a41c6c8e7871bb830fd82c09b5988cc4

parameters:
  - name: TARGET_RESOURCE
    type: string
    required: true
    description: "Target resource identifier"
    default: "test/deployment/failing"
  - name: FAILURE_MESSAGE
    type: string
    required: false
    description: "Error message to produce"
    default: "Intentional failure for testing"
